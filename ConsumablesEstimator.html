<html>
<head>
    <title>Energy Riders Training: Consumables Estimator</title>
    <style>
        div {
            width: 800px;
            clear: both;
            margin: 15px auto;
        }

             div[id=logistics] label {
                text-align: left;
                clear: both;
                float: left;
                margin: 5px;
                width: 100px;
            }

            div[id=logistics] input {
                clear: left;
                float: left;
                width: 100px;
                height: 25px;
                margin: 5px;
            }

           div[id=weather] label {
                margin: 5px;
                width: 100px;
            }

            div[id=weather] input {
                width: 100px;
                height: 25px;
                margin: 5px;
            }


            div[id=tweaks] input {
                width: 100px;
                height: 25px;
                text-align: center;
                border-radius: 5px;
                background-color: #d0f0c0;
            }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script>
        $(document).ready(function () {

            updateCalculations();
            $('input:radio').change(function () {
                updateCalculations();
            });
            $("input").on('input', function () {
                updateCalculations();
            });
        });
        function updateCalculations() {
            var weatherSelected = $("input[type='radio'][name='weather']:checked").val();
            var waterValue = getWaterValue(weatherSelected);
            var iceValue = getIceValue(weatherSelected);
            
            var mileageMod = miles.value / avgMiles.value;

            waterCount.text = waterCalc(riders.value, waterValue, stops.value, mileageMod);
            waterCostTotal.text = waterCount.text * waterCost.value;
            iceCount.text = iceCalc(waterCount.text, iceValue, stops.value);
            iceCostTotal.text = iceCount.text * iceCost.value;
            gatoradeCount.text = gatoradeCalc(waterCount.text, stops.value);
            gatoradeCostTotal.text = gatoradeCount.text * gatoradeCost.value;
            cookieCount.text = foodCalc(riders.value, cookieMod.value, mileageMod, stops.value);
            cookieCostTotal.text = cookieCount.text * cookieCost.value;
            trailmixCount.text = foodCalc(riders.value, trailMixMod.value, mileageMod, stops.value);
            trailmixCostTotal.text = trailmixCount.text * trailmixCost.value;
            crackerCount.text = foodCalc(riders.value, crackerMod.value, mileageMod, stops.value);
            crackerCostTotal.text = crackerCount.text * crackerCost.value;
            pretzelCount.text = foodCalc(riders.value, pretzelMod.value, mileageMod, stops.value);
            pretzelCostTotal.text = pretzelCount.text * pretzelCost.value;
            orangeCount.text = foodCalc(riders.value, orangeMod.value, mileageMod, stops.value);
            orangeCostTotal.text = orangeCount.text * orangeCost.value;
            bananaCount.text = foodCalc(riders.value, bananaMod.value, mileageMod, stops.value);
            bananaCostTotal.text = bananaCount.text * bananaCost.value;
            cupCount.text = cupCalc(trailmixCount.text, cupMod.value);
            cupCostTotal.text = cupCount.text * cupCost.value;
            
            consumablesCostTotal.innerText = Math.round((waterCostTotal.text + iceCostTotal.text + gatoradeCostTotal.text + cookieCostTotal.text + trailmixCostTotal.text + crackerCostTotal.text + pretzelCostTotal.text + orangeCostTotal.text + bananaCostTotal.text + cupCostTotal.text)*100)/100;
            
        };
        function getWaterValue(weatherSelected) {
            var waterValue = 0;
            switch (weatherSelected) {
                case 'cold':
                    waterValue = coldwater.value;
                    break;
                case 'cool':
                    waterValue = coolwater.value;
                    break;
                case 'warm':
                    waterValue = warmwater.value;
                    break;
                case 'hot':
                    waterValue = hotwater.value;
            }
            return waterValue;
        }
        function getIceValue(weatherSelected) {
            var iceValue = 0;
            switch (weatherSelected) {
                case 'cold':
                    iceValue = coldice.value;
                    break;
                case 'cool':
                    iceValue = coolice.value;
                    break;
                case 'warm':
                    iceValue = warmice.value;
                    break;
                case 'hot':
                    iceValue = hotice.value;
            }
            return iceValue;
        }
        function waterCalc(riders, waterMod, stops, mileageMod) {
            return Math.floor(Math.round(riders * waterMod * mileageMod / 128 + .5) / stops + 1) * stops;
        };
        function iceCalc(waterValue, iceMod, stops) {
            if (iceMod == 0) {
                return 0;
            }
            else {
                return Math.floor(Math.round(2 * (waterValue / 10) * iceMod) / stops + 1) * stops;
            }
        }
        function gatoradeCalc(waterValue, stops)
        {
            return Math.floor(Math.round(waterValue*0.5*0.67)/stops)*stops+1
        }
        function foodCalc(riders, consumableMod, mileageMod, stops)
        {
            return Math.floor(Math.round(riders*consumableMod*mileageMod)/stops + 1) * stops;
        }
        function cupCalc(trailmixValue, cupMod)
        {
            return Math.floor(Math.round(trailmixValue * 16 / (100 * cupMod) + 0.49));
        }



    </script>
</head>
<body>
    <div>
        <h1>Consumables Calculator</h1>
        <div>
            <h2>Event Configuration</h2>
            
            <div id="logistics">
                <h3>Logistics</h3>
                <label for="riders">Riders:</label><input id="riders" type="number" min="25" max="350" value="150" />
                <label for="stops">Stops:</label><input id="stops" type="number" min="1" max="10" value="4" />
                <label for="miles">Max Miles:</label><input id="miles" type="number" min="1" max="100" value="40" />
            </div>
            <div id="weather">
                <h3>Weather</h3>
                <label for="cold">Cold</label><input type="radio" value="cold" name="weather" id="weatherRadio" />
                <label for="cool">Cool</label><input type="radio" value="cool" name="weather" id="weatherRadio" checked="checked" />
                <label for="warm">Warm</label><input type="radio" value="warm" name="weather" id="weatherRadio" />
                <label for="hot">Hot</label><input type="radio" value="hot" name="weather" id="weatherRadio" />
            </div>
        </div>
        <div id="tweaks">
            <h2>Consumables Modifiers</h2>
            <h3>Water and Ice</h3>
            <p>Water modifier is in ounces per rider.</p>
            <p>Ice modifier is in bags per 128 riders.</p>
            <table>
                <tr><td></td><th>Cold (oz per rider)</th><th>Cool (oz per rider)</th><th>Warm (oz per rider)</th><th>Hot (oz per rider)</th><th>Cost</th><th>Unit</th></tr>
                <tr>
                    <th>Water</th>
                    <td><input type="number" min="12" max="40" id="coldwater" value="12" /></td>
                    <td><input type="number" min="12" max="40" id="coolwater" value="16" /></td>
                    <td><input type="number" min="12" max="40" id="warmwater" value="20" /></td>
                    <td><input type="number" min="12" max="40" id="hotwater" value="32" /></td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="waterCost" value="0.89" /></td>
                    <td>Gallon</td>
                </tr>
                <tr>
                    <th>Ice</th>
                    <td><input type="number" step=".1" min="0" max="3" id="coldice" value="0" /></td>
                    <td><input type="number" step=".1" min="0" max="3" id="coolice" value="1" /></td>
                    <td><input type="number" step=".1" min="0" max="3" id="warmice" value="1.5" /></td>
                    <td><input type="number" step=".1" min="0" max="3" id="hotice" value="2" /></td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="iceCost" value="2.00" /></td>
                    <td>10 Pound Bag</td>
                </tr>
            </table>
            <h3>Food and Other</h3>
            <table>
                <tr><th>Item</th><th>Cost</th><th>Unit</th><th>Modifier</th></tr>
                <tr>
                    <td>GATORADE</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="gatoradeCost" value="5.00" /></td>
                    <td>2 Gallon Package</td>
                    <td><input type="number" step=".01" min="0" max="40" id="gatorAdeMod" value="0.05" /><span>per rider</span></td>
                </tr>
                <tr>
                    <td>Cookies</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="cookieCost" value="3.00" /></td>
                    <td>12 Ounce Box</td>
                    <td><input type="number" step=".01" min="0" max="40" id="cookieMod" value="0.05" /><span>per rider</span></td>
                </tr>
                <tr>
                    <td>Trail Mix</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="trailmixCost" value="6.00" /></td>
                    <td>Pound</td>
                    <td><input type="number" step=".01" min="0" max="40" id="trailMixMod" value="0.05" /><span>per rider</span></td>
                </tr>
                <tr>
                    <td>Crackers</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="crackerCost" value="2.50" /></td>
                    <td>12 Ounce Box</td>
                    <td><input type="number" step=".01" min="0" max="40" id="crackerMod" value="0.05" /><span>per rider</span></td>
                </tr>
                <tr>
                    <td>Pretzels</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="pretzelCost" value="3.50" /></td>
                    <td>1 Pound Bag</td>
                    <td><input type="number" step=".01" min="0" max="40" id="pretzelMod" value="0.05" /><span>per rider</span></td>
                </tr>
                <tr>
                    <td>Oranges</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="orangeCost" value="2.00" /></td>
                    <td>Pound</td>
                    <td><input type="number" step=".01" min="0" max="40" id="orangeMod" value="0.1" /><span>per 10 riders</span></td>
                </tr>
                <tr>
                    <td>Bananas</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="bananaCost" value="0.50" /></td>
                    <td>Pound</td>
                    <td><input type="number" step=".01" min="0" max="40" id="bananaMod" value="0.25" /><span>per rider</span></td>
                </tr>
                <tr>
                    <td>3oz Plastic Cups (trailmix)</td>
                    <td><span>$</span><input type="number" step=".01" min="0" max="40" id="cupCost" value="2.00" /></td>
                    <td>100 Cup Package</td>
                    <td><input type="number" step=".01" min="0" max="40" id="cupMod" value="0.8" /><span>Trail Mix Ounces per Cup</span></td>
                </tr>
            </table>

            <h2>Advanced Modifiers</h2>
            <p>These are advanced modifiers for tweaking the output of this calculator.</p>
            <label for="avgMiles">Avg Miles:</label><input type="number" min="0" max="100" id="avgMiles" value="30" />
            
        </div>

        <div id="shoppingList">
            <h2>Shopping List</h2>
            <table>
                <tr><th>Item</th><th>Quantity</th><th>Total Cost</th><th>Unit</th></tr>
                <tr><td>Water</td><td><a id="waterCount"/></td><td><span>$</span><a id="waterCostTotal" /></td><td>Gallon</td></tr>
                <tr><td>Ice</td><td><a id="iceCount" /></td><td><span>$</span><a id="iceCostTotal" /></td><td>10 Pound Bag</td></tr>
                <tr><td>GATORADE*</td><td><a id="gatoradeCount" /></td><td><span>$</span><a id="gatoradeCostTotal" /></td><td>2 Gallon Package</td></tr>
                <tr><td>Cookies</td><td><a id="cookieCount" /></td><td><span>$</span><a id="cookieCostTotal" /></td><td>12 Ounce Box</td></tr>
                <tr><td>Trail Mix</td><td><a id="trailmixCount" /></td><td><span>$</span><a id="trailmixCostTotal" /></td><td>Pound</td></tr>
                <tr><td>Crackers</td><td><a id="crackerCount" /></td><td><span>$</span><a id="crackerCostTotal" /></td><td>12 Ounce Box</td></tr>
                <tr><td>Pretzels</td><td><a id="pretzelCount" /></td><td><span>$</span><a id="pretzelCostTotal" /></td><td>1 Pound Bag</td></tr>
                <tr><td>Oranges</td><td><a id="orangeCount" /></td><td><span>$</span><a id="orangeCostTotal" /></td><td>Pound</td></tr>
                <tr><td>Bananas</td><td><a id="bananaCount" /></td><td><span>$</span><a id="bananaCostTotal" /></td><td>Pound</td></tr>
                <tr><td>3oz Plastic Cups</td><td><a id="cupCount" /></td><td><span>$</span><a id="cupCostTotal"/></td><td>100 Cup Package</td></tr>
            </table>
            <p>Training Ride Consumables Cost: <span>$</span><b id="consumablesCostTotal">0.00</b></p>
            <p>Divide GATORADE quantity in 3 if using 24 quart "Cans".</p>
        </div>


        
    </div>
</body>
</html>